const playButton = document.querySelector('.play-button'); const audioPlayer = document.getElementById('fallback-player'); const playToggle = document.getElementById('playToggle'); const statusText = document.getElementById('statusText'); const playlistItems = document.querySelectorAll('#playlist li');

let isPlaying = false; let currentTrack = document.querySelector('#playlist li.active'); audioPlayer.src = currentTrack.dataset.src;

function updateUIPlaying(text) { isPlaying = true; playButton.textContent = 'Now Playing'; playButton.style.backgroundColor = '#28a745'; playToggle.innerHTML = '<i class="fas fa-pause"></i>'; statusText.textContent = text || 'Live Now'; }

function updateUIPaused() { isPlaying = false; playButton.textContent = 'Play Radio'; playButton.style.backgroundColor = '#ff007f'; playToggle.innerHTML = '<i class="fas fa-play"></i>'; statusText.textContent = 'Off Air'; }

playButton.addEventListener('click', () => { if (!isPlaying) { audioPlayer.play() .then(() => updateUIPlaying()) .catch(err => alert('Eroare la redare')); } else { audioPlayer.pause(); updateUIPaused(); } });

playToggle.addEventListener('click', () => { if (!isPlaying) { audioPlayer.play() .then(() => updateUIPlaying()) .catch(err => alert('Eroare la redare')); } else { audioPlayer.pause(); updateUIPaused(); } });

playlistItems.forEach(item => { item.addEventListener('click', () => { playlistItems.forEach(li => li.classList.remove('active')); item.classList.add('active'); audioPlayer.src = item.dataset.src; audioPlayer.play() .then(() => updateUIPlaying('Now Playing: ' + item.textContent)) .catch(err => alert('Eroare la redare')); }); });

